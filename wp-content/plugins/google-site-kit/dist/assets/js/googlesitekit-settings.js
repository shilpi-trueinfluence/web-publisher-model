!function(e){function t(t){for(var a,l,c=t[0],s=t[1],r=t[2],g=0,u=[];g<c.length;g++)l=c[g],i[l]&&u.push(i[l][0]),i[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(d&&d(t);u.length;)u.shift()();return o.push.apply(o,r||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},i={14:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var r=0;r<c.length;r++)t(c[r]);var d=s;o.push([184,0,1]),n()}({134:function(e,t,n){"use strict";var a=n(1),i=n.n(a),o=n(2),l=n.n(o),c=n(3),s=n.n(c),r=n(4),d=n.n(r),g=n(9),u=n.n(g),m=n(5),p=n.n(m),h=(n(8),n(19)),v=n(6),_=n.n(v),k=wp.element,f=k.Component,y=k.createRef,E=function(e){function t(e){var n;return i()(this,t),(n=s()(this,d()(t).call(this,e))).formFieldRef=y(),n.checkboxRef=y(),n}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){new h.e(this.formFieldRef.current).input=new h.c(this.checkboxRef.current)}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.id,a=e.name,i=e.value,o=e.checked,l=e.disabled,c=e.children;return React.createElement("div",{className:"mdc-form-field",ref:this.formFieldRef},React.createElement("div",{className:"\n\t\t\t\t\t\tmdc-checkbox\n\t\t\t\t\t\t".concat(l?"mdc-checkbox--disabled":"","\n\t\t\t\t\t"),ref:this.checkboxRef},React.createElement("input",{className:"mdc-checkbox__native-control",type:"checkbox",id:n,name:a,value:i,checked:o,disabled:l,onChange:t}),React.createElement("div",{className:"mdc-checkbox__background"},React.createElement("svg",{className:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},React.createElement("path",{className:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),React.createElement("div",{className:"mdc-checkbox__mixedmark"}))),React.createElement("label",{htmlFor:n},c))}}]),t}(f);E.propTypes={onChange:_.a.func.isRequired,id:_.a.string.isRequired,name:_.a.string.isRequired,value:_.a.string.isRequired,checked:_.a.bool,disabled:_.a.bool,children:_.a.node.isRequired},E.defaultProps={checked:!1,disabled:!1};var R=E,b=wp.element.Component,w=wp.i18n.__,N=function(e){function t(e){var n;return i()(this,t),(n=s()(this,d()(t).call(this,e))).state={scriptOnPage:!!googlesitekit.admin.trackingOptin,optIn:!!googlesitekit.admin.trackingOptin,error:!1},n.handleOptIn=n.handleOptIn.bind(u()(n)),n}return p()(t,e),l()(t,[{key:"handleOptIn",value:function(e){var t=this,n=e.target.checked,a={googlesitekit_tracking_optin:n};wp.apiFetch({path:"/wp/v2/settings",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(a),method:"POST"}).then(function(){if(n&&!t.state.scriptOnPage){var e=window.document;if(!e)return;window.googlesitekitTrackingEnabled=!!n,e.body.insertAdjacentHTML("beforeend",'\n\t\t\t\t\t\t<script async src="https://www.googletagmanager.com/gtag/js?id='.concat(googlesitekit.admin.trackingID,'"><\/script>\n\t\t\t\t\t')),e.body.insertAdjacentHTML("beforeend","\n\t\t\t\t\t\t<script>\n\t\t\t\t\t\t\twindow.dataLayer = window.dataLayer || [];\n\t\t\t\t\t\t\tfunction gtag(){dataLayer.push(arguments);}\n\t\t\t\t\t\t\tgtag('js', new Date());\n\t\t\t\t\t\t\tgtag('config', '".concat(googlesitekit.admin.trackingID,"');\n\t\t\t\t\t\t<\/script>\n\t\t\t\t\t"))}t.setState({optIn:!!n,error:!1,scriptOnPage:!0})}).catch(function(n){t.setState({optIn:!e.target.checked,error:{errorCode:n.code,errorMsg:n.message}})})}},{key:"render",value:function(){var e=this.state,t=e.optIn,n=e.error,a=this.props,i=a.id,o=a.name;return React.createElement("div",{className:"googlesitekit-opt-in"},React.createElement(R,{id:i,name:o,value:"1",checked:t,onChange:this.handleOptIn},w("Help us improve the Site Kit plugin by allowing tracking of anonymous usage stats. All data are treated in accordance with ","google-site-kit"),React.createElement("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer"},w("Google Privacy Policy","google-site-kit")),"."),n&&React.createElement("div",{className:"googlesitekit-error-text"},n.errorMsg))}}]),t}(b);N.propTypes={id:_.a.string,name:_.a.string},N.defaultProps={id:"googlesitekit-opt-in",name:"optIn"};t.a=N},136:function(e,t,n){"use strict";var a=n(10),i=n.n(a),o=n(12),l=n.n(o),c=n(1),s=n.n(c),r=n(2),d=n.n(r),g=n(3),u=n.n(g),m=n(4),p=n.n(m),h=n(9),v=n.n(h),_=n(5),k=n.n(_),f=(n(8),n(11)),y=wp.element,E=y.Component,R=y.createPortal,b=function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).el=document.createElement("div"),n.root=document.querySelector(".googlesitekit-plugin")||document.body,n}return k()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.root.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.root.removeChild(this.el)}},{key:"render",value:function(){return R(this.props.children,this.el)}}]),t}(E),w=n(7),N=n(0),S=n(60),C=n(16);n.d(t,"a",function(){return M});var O=wp.i18n.__,M=function(e){function t(e){var n;return s()(this,t),(n=u()(this,p()(t).call(this,e))).state={dialogActive:!1},n.handleDialog=n.handleDialog.bind(v()(n)),n.handleUnlinkConfirm=n.handleUnlinkConfirm.bind(v()(n)),n.handleCloseModal=n.handleCloseModal.bind(v()(n)),n}return k()(t,e),d()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleCloseModal,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleCloseModal)}},{key:"handleUnlinkConfirm",value:function(){var e=l()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.c.set(w.a,"site","reset");case 2:Object(N.d)(),this.handleDialog(),document.location=Object(N.n)("googlesitekit-splash");case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1})}},{key:"handleDialog",value:function(){this.setState(function(e){return{dialogActive:!e.dialogActive}})}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.dialogActive;return React.createElement(C.Fragment,null,React.createElement(f.a,{className:"googlesitekit-reset-button",onClick:function(){return e.setState({dialogActive:!0})},inherit:!0},t||O("Reset Site Kit","google-site-kit")),React.createElement(b,null,React.createElement(S.a,{dialogActive:n,handleConfirm:this.handleUnlinkConfirm,handleDialog:this.handleDialog,title:O("Reset Site Kit","google-site-kit"),subtitle:O("Resetting this site will remove access to all services. After disconnecting, you will need to re-authorize your access to restore service.","google-site-kit"),confirmButton:O("Reset","google-site-kit"),provides:[]})))}}]),t}(wp.element.Component)},16:function(e,t){e.exports=React},184:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(2),l=n.n(o),c=n(3),s=n.n(c),r=n(4),d=n.n(r),g=n(5),u=n.n(g),m=(n(8),n(9)),p=n.n(m),h=n(28),v=n.n(h),_=n(10),k=n.n(_),f=n(12),y=n.n(f),E=n(6),R=n.n(E),b=n(11),w=n(25),N=n(7),S=n(18),C=n(55),O=n(47),M=n(0),D=n(48),x=wp.i18n,j=x.sprintf,A=x.__,P=wp.element.Component,T=wp.hooks.applyFilters,I=function(e){function t(e){var n;return i()(this,t),(n=s()(this,d()(t).call(this,e))).state={isSaving:!1,active:e.active},n.activateOrDeactivate=n.activateOrDeactivate.bind(p()(n)),n}return u()(t,e),l()(t,[{key:"activateOrDeactivate",value:function(){var e=y()(k.a.mark(function e(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state.active,n=this.props.slug,this.setState({isSaving:!0}),e.next=6,Object(M.a)(N.c,n,!t);case 6:return e.next=8,Object(M.u)();case 8:window.location=Object(M.m)(n,!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),Object(M.w)(D.a,{id:"activate-module-error",title:A("Internal Server Error","google-site-kit"),description:e.t0.message,format:"small",type:"win-error"}),this.setState({isSaving:!1});case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.isSaving,t=this.props,n=t.slug,a=t.name,i=t.description,o=t.showLink,l=!1,c=googlesitekit.modules;c[n].required.length&&c[n].required.forEach(function(e){c[e].setupComplete||(l=!0)});return React.createElement("div",{className:"\n\t\t\t\tgooglesitekit-settings-connect-module\n\t\t\t\tgooglesitekit-settings-connect-module--".concat(n,"\n\t\t\t\t").concat(l?"googlesitekit-settings-connect-module--disabled":"","\n\t\t\t"),key:n},React.createElement("div",{className:"googlesitekit-settings-connect-module__switch"},React.createElement(C.a,{isSaving:e})),React.createElement("div",{className:"googlesitekit-settings-connect-module__logo"},l?Object(M.q)("".concat(n,"-disabled")):Object(M.q)(n)),React.createElement("h3",{className:" googlesitekit-subheading-1 googlesitekit-settings-connect-module__title "},a),React.createElement("p",{className:"googlesitekit-settings-connect-module__text"},i),React.createElement(O.a,{slug:n,context:"modules-list"}),T("googlesitekit.SetupModuleShowLink",o,n)&&React.createElement("p",{className:"googlesitekit-settings-connect-module__cta"},React.createElement(b.a,{onClick:this.activateOrDeactivate,href:"",inherit:!0,disabled:l,arrow:!0},j(A(l?"Setup Analytics to gain access to %s":"Set up %s","google-site-kit"),a))))}}]),t}(P);I.propTypes={slug:R.a.string,name:R.a.string,description:R.a.string,homepage:R.a.string,active:R.a.bool,onActive:R.a.func},I.defaultProps={slug:"",name:"",description:"",homepage:"",active:!1};var L=I,F=n(60),U=function(e){function t(){return i()(this,t),s()(this,d()(t).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){return null}}]),t}(wp.element.Component),q=wp.components.withFilters,B=wp.element.Component,K=wp.i18n.__,G=function(e){function t(){return i()(this,t),s()(this,d()(t).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.slug;return React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(O.a,{slug:e,context:"settings"}),K("Setup incomplete: ","google-site-kit"),React.createElement(b.a,{className:"googlesitekit-settings-module__edit-button",onClick:function(){window.location=Object(M.m)(e,!0)},inherit:!0},K("continue module setup","google-site-kit")))}}]),t}(B),W=q("googlesitekit.ModuleSetupIncomplete")(G),H=wp.element.Component,J=wp.i18n.__,z=function(e){function t(){return i()(this,t),s()(this,d()(t).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.compress;return React.createElement("div",{className:"\n\t\t\t\tgooglesitekit-overlay\n\t\t\t\t".concat(e?"googlesitekit-overlay--compress":"","\n\t\t\t")},React.createElement("div",{className:"googlesitekit-overlay__wrapper"},React.createElement("div",{className:"googlesitekit-overlay__icon"},React.createElement(S.a,{id:"lock",width:"22",height:"30"})),React.createElement("h3",{className:" googlesitekit-heading-2 googlesitekit-overlay__title "},J("Section locked while editing","google-site-kit"))))}}]),t}(H);z.propTypes={compress:R.a.bool},z.defaultProps={compress:!1};var Q=z,V=wp.element,X=V.Component,Y=V.Fragment,Z=wp.i18n,$=Z.__,ee=Z.sprintf,te=lodash,ne=te.filter,ae=te.map,ie=wp.hooks.applyFilters,oe=wp.components.withFilters,le=function(e){function t(e){var n;i()(this,t),n=s()(this,d()(t).call(this,e));var a=e.slug,o=googlesitekit.modules[a].setupComplete;return n.state={isSaving:!1,active:e.active,setupComplete:o,dialogActive:!1},n.deactivate=n.deactivate.bind(p()(n)),n.activateOrDeactivate=n.activateOrDeactivate.bind(p()(n)),n.handleDialog=n.handleDialog.bind(p()(n)),n.handleCloseModal=n.handleCloseModal.bind(p()(n)),n.handleConfirmRemoveModule=n.handleConfirmRemoveModule.bind(p()(n)),n}return u()(t,e),l()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleCloseModal,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleCloseModal)}},{key:"activateOrDeactivate",value:function(){var e=y()(k.a.mark(function e(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state.active,n=!t,this.setState({isSaving:!0}),e.next=6,Object(M.a)(N.c,this.props.slug,n);case 6:return e.next=8,Object(M.u)();case 8:!1===n&&N.c.invalidateCacheGroup(N.b,this.props.slug),this.setState({isSaving:!1,active:n}),window.location=Object(M.m)(this.props.slug,!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),Object(M.w)(D.a,{id:"activate-module-error",title:$("Internal Server Error","google-site-kit"),description:e.t0.message,format:"small",type:"win-error"}),this.setState({isSaving:!1});case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"deactivate",value:function(){this.props.autoActivate||this.activateOrDeactivate()}},{key:"handleDialog",value:function(){this.setState(function(e){return{dialogActive:!e.dialogActive}})}},{key:"handleConfirmRemoveModule",value:function(){this.deactivate()}},{key:"handleCloseModal",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1})}},{key:"getDependentModules",value:function(){var e=this.props.slug,t=googlesitekit.modules,n={};return t[e].dependants&&t[e].dependants.forEach(function(e){t[e]&&(n[e]=t[e])}),n}},{key:"render",value:function(){var e=this.state,t=e.active,n=e.setupComplete,a=e.dialogActive,i=this.props,o=i.name,l=i.slug,c=i.homepage,s=i.isEditing,r=i.isOpen,d=i.handleAccordion,g=i.handleEdit,u=i.description,m=i.hasSettings,p=i.autoActivate,h=i.provides,v=i.isSaving,_=i.screenID,k=i.error,f="".concat(l,"-module"),y=ie("googlesitekit.Connected-".concat(l),n),E=y?"googlesitekit-settings-module__status-icon--connected":"googlesitekit-settings-module__status-icon--not-connected",R=ee($("By disconnecting the %s module from Site Kit, you will no longer have access to:","google-site-kit"),o),N=v==="".concat(l,"-module"),O=oe("googlesitekit.ModuleSettingsDetails-".concat(l))(U),D=0<ne(s,function(e){return e}).length,x=ae(this.getDependentModules(),"name").join(", "),j="pagespeed-insights"===l,A=$("Close","google-site-kit");return m&&n&&(N?A=$("Saving...","google-site-kit"):!1===j&&(A=$("Confirm Changes","google-site-kit"))),React.createElement(Y,null,t?React.createElement("div",{className:"\n\t\t\t\t\t\t\tgooglesitekit-settings-module\n\t\t\t\t\t\t\tgooglesitekit-settings-module--".concat(l,"\n\t\t\t\t\t\t\tgooglesitekit-settings-module--active\n\t\t\t\t\t\t\t").concat(k&&D&&s[f]?"googlesitekit-settings-module--error":"","\n\t\t\t\t\t\t"),key:f},D&&!s[f]&&React.createElement(Q,{compress:!r}),React.createElement("button",{className:"\n\t\t\t\t\t\t\t\tgooglesitekit-settings-module__header\n\t\t\t\t\t\t\t\t".concat(r?"googlesitekit-settings-module__header--open":"","\n\t\t\t\t\t\t\t"),id:"googlesitekit-settings-module__header--".concat(l),type:"button",role:"tab","aria-selected":!!r,"aria-expanded":!!r,"aria-controls":"googlesitekit-settings-module__content--".concat(l),onClick:d.bind(null,l)},k&&D&&s[f]&&React.createElement("div",{className:"googlesitekit-settings-module__error"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},$("Error:","google-site-kit")," ",k.errorMsg)))),React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement("h3",{className:" googlesitekit-heading-4 googlesitekit-settings-module__title "},Object(M.q)(l,!1,"24","26","googlesitekit-settings-module__title-icon"),o)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-tablet "},React.createElement("p",{className:"googlesitekit-settings-module__status"},ee($(y?"%s is connected":"%s is not connected","google-site-kit"),o),React.createElement("span",{className:"googlesitekit-settings-module__status-icon ".concat(E," ")},React.createElement("span",{className:"screen-reader-text"},$(y?"Connected":"Not Connected","google-site-kit")))))))),React.createElement("div",{className:"\n\t\t\t\t\t\t\t\tgooglesitekit-settings-module__content\n\t\t\t\t\t\t\t\t".concat(r?"googlesitekit-settings-module__content--open":"","\n\t\t\t\t\t\t\t"),id:"googlesitekit-settings-module__content--".concat(l),role:"tabpanel","aria-hidden":!r,"aria-labelledby":"googlesitekit-settings-module__header--".concat(l)},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},n&&React.createElement(Y,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(O,{module:f,isEditing:s[f]}))),m&&!n&&React.createElement(W,{screenID:_,slug:l}))),React.createElement("footer",{className:"googlesitekit-settings-module__footer"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},s[f]||N?React.createElement(Y,null,React.createElement(w.a,{onClick:function(){return g(f,n?"confirm":"cancel",j)},disabled:N,id:m&&n?"confirm-changes-".concat(l):"close-".concat(l)},A),React.createElement(C.a,{isSaving:N}),m&&React.createElement(b.a,{className:"googlesitekit-settings-module__footer-cancel",onClick:function(){return g(f,"cancel")},inherit:!0},$("Cancel","google-site-kit"))):m&&React.createElement(b.a,{className:"googlesitekit-settings-module__edit-button",onClick:function(){g(f,"edit")},inherit:!0},$("Edit","google-site-kit"),React.createElement(S.a,{className:"googlesitekit-settings-module__edit-button-icon",id:"pencil",width:"10",height:"10"}))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-desktop "},s[f]&&!p&&React.createElement(b.a,{className:"googlesitekit-settings-module__remove-button",onClick:this.handleDialog,inherit:!0,danger:!0},ee($("Disconnect %s from Site Kit","google-site-kit"),o),React.createElement(S.a,{className:"googlesitekit-settings-module__remove-button-icon",id:"trash",width:"13",height:"13"})),!s[f]&&React.createElement(b.a,{href:c,className:"googlesitekit-settings-module__cta-button",inherit:!0,external:!0},ee($("See full details in %s","google-site-kit"),o))))))),React.createElement(F.a,{dialogActive:a,handleDialog:this.handleDialog,title:ee($("Disconnect %s from Site Kit?","google-site-kit"),o),subtitle:R,onKeyPress:this.handleCloseModal,provides:h,handleConfirm:this.handleConfirmRemoveModule,dependentModules:!!x&&ee($("these active modules depend on %s and will also be disconnected: ","google-site-kit"),o)+x})):React.createElement(Y,null,React.createElement(L,{key:"".concat(l,"-module"),slug:l,name:o,description:u,active:t,showLink:!0})))}}]),t}(X);le.propTypes={name:R.a.string,slug:R.a.string,homepage:R.a.string,isEditing:R.a.object,handleEdit:R.a.func,handleDialog:R.a.func,autoActivate:R.a.bool,hasSettings:R.a.bool,required:R.a.array,active:R.a.bool},le.defaultProps={name:"",slug:"",homepage:"",isEditing:{},handleEdit:null,handleDialog:null,active:!1};var ce=le,se=n(15),re=n(23);function de(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach(function(t){v()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ue=wp.i18n.__,me=lodash,pe=me.map,he=me.filter,ve=me.sortBy,_e=wp.element,ke=_e.Component,fe=_e.Fragment,ye=wp.hooks.applyFilters,Ee=function(e){function t(e){var n;return i()(this,t),(n=s()(this,d()(t).call(this,e))).state={error:!1,isEditing:{},openModules:{},isSaving:!1},n.mapToModule=n.mapToModule.bind(p()(n)),n.updateModulesList=n.updateModulesList.bind(p()(n)),n.handleButtonAction=n.handleButtonAction.bind(p()(n)),n.handleAccordion=n.handleAccordion.bind(p()(n)),n}return u()(t,e),l()(t,[{key:"componentDidMount",value:function(){googlesitekit.editmodule&&googlesitekit.modules[googlesitekit.editmodule].active&&this.handleButtonAction("".concat(googlesitekit.editmodule,"-module"),"edit")}},{key:"updateModulesList",value:function(){this.forceUpdate()}},{key:"handleAccordion",value:function(e,t){t.target.closest(".googlesitekit-settings-module__header").focus(),this.setState(function(t){return{openModules:ge({},t.openModules,v()({},e,!t.openModules[e]))}})}},{key:"handleButtonAction",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("confirm"===t){var i=ye("googlekit.SettingsConfirmed",!1,e);if(a)return void this.setState(function(t){return{isSaving:!1,error:!1,isEditing:ge({},t.isEditing,v()({},e,!t.isEditing[e]))}});if(this.setState({isSaving:e}),!i)return void Object(M.d)();i.then(function(){Object(M.d)(),n.setState(function(t){return{isSaving:!1,error:!1,isEditing:ge({},t.isEditing,v()({},e,!t.isEditing[e]))}})}).catch(function(e){n.setState({isSaving:!1,error:{errorCode:e.code,errorMsg:e.message}})})}else this.setState(function(t){return{isEditing:ge({},t.isEditing,v()({},e,!t.isEditing[e])),error:!1}})}},{key:"settingsModuleComponent",value:function(e,t){var n=googlesitekit.modules[e.slug].provides,a=this.state,i=a.isEditing,o=a.openModules,l=a.error,c=o[e.slug]||!1;return React.createElement(ce,{key:e.slug+"-module",slug:e.slug,name:e.name,description:e.description,homepage:e.homepage,learnmore:e.learnMore,active:e.active,hasSettings:e.hasSettings,autoActivate:e.autoActivate,updateModulesList:this.updateModulesList,handleEdit:this.handleButtonAction,handleConfirm:!0,isEditing:i,isOpen:c,handleAccordion:this.handleAccordion,handleDialog:this.handleDialog,provides:n,isSaving:t,screenID:e.screenID,error:l})}},{key:"mapToModule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state.isSaving;return pe(e,t?function(e){return React.createElement(fe,{key:e.slug+"-module-wrapper"},this.settingsModuleComponent(e,n))}.bind(this):function(e){return React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-4",key:e.slug+"-module-wrapper"},this.settingsModuleComponent(e,n))}.bind(this))}},{key:"render",value:function(){var e=this.state.isEditing,t=this.props.activeTab,n=0<he(e,function(e){return e}).length;if(!window.googlesitekit||!window.googlesitekit.modules)return null;var a=he(window.googlesitekit.modules,function(e){return!e.internal}),i=this.mapToModule(ve(he(a,function(e){return e.active}),"sort"),!0),o=this.mapToModule(ve(he(a,{active:!1}),"sort")),l=0<o.length;return React.createElement(fe,null,0<i.length&&0===t&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(se.a,null,i)),1===t&&l&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(se.a,{header:!0,title:ue("Connect More Services to Gain More Insights","google-site-kit"),relative:!0},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},0<o.length&&o)),n&&React.createElement(Q,null))),1===t&&!l&&React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(re.a,{id:"no-more-modules",title:ue("Congrats, you’ve connected all services!","google-site-kit"),description:ue("We’re working on adding new services to Site Kit by Google all the time, so please check back in the future.","google-site-kit"),format:"small",smallImage:"".concat(googlesitekit.admin.assetsRoot,"images/thumbs-up.png"),type:"win-success"})))}}]),t}(ke),Re=n(37),be=n(41),we=n(63),Ne=n.n(we),Se=n(158),Ce=n.n(Se),Oe=n(134),Me=n(136),De=wp.element,xe=De.Component,je=De.Fragment,Ae=wp.i18n.__,Pe=function(e){function t(){var e;i()(this,t),e=s()(this,d()(t).call(this));var n=googlesitekit.admin.userData,a=n.email,o=void 0===a?"":a,l=n.picture,c=void 0===l?"":l,r=n.name,g=void 0===r?"":r;return e.state={data:{email:o,img:c,user:g}},e}return u()(t,e),l()(t,[{key:"render",value:function(){return React.createElement(je,null,React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(se.a,null,React.createElement("div",{className:" googlesitekit-settings-module googlesitekit-settings-module--active "},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement("h3",{className:" googlesitekit-heading-4 googlesitekit-settings-module__title "},Ae("Plugin Status","google-site-kit"))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-tablet "}),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("p",{className:"googlesitekit-settings-module__status"},Ae("Site Kit is connected","google-site-kit"),React.createElement("span",{className:" googlesitekit-settings-module__status-icon googlesitekit-settings-module__status-icon--connected "},React.createElement("span",{className:"screen-reader-text"},Ae("Connected","google-site-kit")))))))),React.createElement("footer",{className:"googlesitekit-settings-module__footer"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone "},React.createElement(Me.a,null)))))))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement(se.a,{header:!0,title:Ae("Tracking","google-site-kit"),className:"googlesitekit-settings-meta",fill:!0},React.createElement("div",{className:" googlesitekit-settings-module googlesitekit-settings-module--active "},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("div",{className:"googlesitekit-settings-module__meta-items"},React.createElement("div",{className:" googlesitekit-settings-module__meta-item googlesitekit-settings-module__meta-item--nomargin "},React.createElement(Oe.a,null))))))))))}}]),t}(xe),Te=n(36),Ie=wp.element,Le=Ie.Component,Fe=Ie.Fragment,Ue=wp.i18n.__,qe=function(e){function t(e){var n;i()(this,t),n=s()(this,d()(t).call(this,e));var a=window.location.hash.replace("#","");return n.state={activeTab:a?Number(a):0},n.handleTabUpdate=n.handleTabUpdate.bind(p()(n)),n}return u()(t,e),l()(t,[{key:"handleTabUpdate",value:function(e){var t=-1===e?0:e;window.location.hash=t,this.setState({activeTab:t})}},{key:"render",value:function(){var e=this.state.activeTab;return React.createElement(Fe,null,React.createElement(Re.a,null),React.createElement("div",{className:"googlesitekit-module-page"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(be.a,{title:Ue("Settings","google-site-kit")})),React.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},React.createElement(se.a,null,React.createElement(Ce.a,{activeIndex:e,handleActiveIndexUpdate:this.handleTabUpdate},React.createElement(Ne.a,null,React.createElement("span",{className:"mdc-tab__text-label"},Ue("Connected Services","google-site-kit"))),React.createElement(Ne.a,null,React.createElement("span",{className:"mdc-tab__text-label"},Ue("Connect More Services","google-site-kit"))),React.createElement(Ne.a,null,React.createElement("span",{className:"mdc-tab__text-label"},Ue("Admin Settings","google-site-kit")))))),(0===e||1===e)&&React.createElement(Ee,{activeTab:e}),2===e&&React.createElement(Fe,null,React.createElement(Pe,null)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--align-right "},React.createElement(Te.a,null))))))}}]),t}(Le),Be=wp.i18n.setLocaleData,Ke=wp.hooks.doAction,Ge=wp.element,We=Ge.Component,He=Ge.render,Je=function(e){function t(e){var n;return i()(this,t),(n=s()(this,d()(t).call(this,e))).state={hasError:!1},Be(googlesitekit.locale,"google-site-kit"),n}return u()(t,e),l()(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.error,a=e.info;return t?React.createElement(re.a,{id:"googlesitekit-error",key:"googlesitekit-error",title:n,description:a.componentStack,dismiss:"",isDismissable:!1,format:"small",type:"win-error"}):React.createElement(qe,null)}}]),t}(We);wp.domReady(function(){var e=document.getElementById("googlesitekit-settings-wrapper");null!==e&&(He(React.createElement(Je,null),e),Ke("googlesitekit.moduleLoaded","Settings"))})},44:function(e,t){e.exports=ReactDOM},8:function(e,t){e.exports=void 0}});